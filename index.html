<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FamGame - Couples Reward System</title>
    <style>
        :root {
            --bg-color: #f4f4f4;
            --text-color: #004d40;
            --card-bg: white;
            --hover-bg: #c8e6c9;
            --button-bg: #004d40;
            --button-hover: #00332a;
        }

        .dark-mode {
            --bg-color: #121212;
            --text-color: #f4f4f4;
            --card-bg: #1e1e1e;
            --hover-bg: #2b2b2b;
            --button-bg: #00796b;
            --button-hover: #004d40;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            max-width: 700px;
            margin: auto;
            background: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            transition: background-color 0.3s;
        }

        h1, h2 { text-align: center; }

        .task, .reward {
            padding: 10px;
            margin: 10px 0;
            background: var(--hover-bg);
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            transition: background 0.3s;
        }

        .task:hover, .reward:hover {
            background: var(--button-bg);
            color: white;
        }

        #points {
            text-align: center;
            font-size: 24px;
            font-weight: bold;
        }

        .section { margin-top: 20px; }

        button {
            background-color: var(--button-bg);
            color: white;
            border: none;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            transition: background 0.3s;
        }

        button:hover {
            background-color: var(--button-hover);
        }

        .theme-toggle {
            text-align: center;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <div class="theme-toggle">
        <button onclick="toggleTheme()">ðŸŒ™ Toggle Dark Mode</button>
    </div>

    <div class="container">
        <h1>FamGame - Couples Reward System</h1>
        <h2>Total Points: <span id="totalPoints">0</span></h2>
        <div class="progress">
            Husband Contribution: <span id="husbandPoints">0</span> | Wife Contribution: <span id="wifePoints">0</span>
        </div>

        <div class="section">
            <h2>Husband Tasks</h2>
            <div class="husband-tasks"></div>
        </div>

        <div class="section">
            <h2>Wife Tasks</h2>
            <div class="wife-tasks"></div>
        </div>

        <div class="section">
            <h2>Rewards</h2>
            <div class="rewards-section"></div>
        </div>

        <div class="section">
            <button onclick="resetPoints()">Reset Points</button>
        </div>
    </div>

<script>
    function toggleTheme() {
        document.body.classList.toggle("dark-mode");
        localStorage.setItem("theme", document.body.classList.contains("dark-mode") ? "dark" : "light");
    }

    if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark-mode");
    }

    let husbandPoints = parseInt(localStorage.getItem("husbandPoints")) || 0;
    let wifePoints = parseInt(localStorage.getItem("wifePoints")) || 0;
    updateUI();

    let tasks = [
        { text: "Give a 10-minute massage", points: 10, person: "husband" },
        { text: "Plan a surprise date night", points: 15, person: "husband" },
        { text: "Write a love letter", points: 10, person: "husband" },
        { text: "Make her coffee in the morning", points: 5, person: "husband" },
        { text: "Clean the house before she asks", points: 10, person: "husband" },

        { text: "Cook his favorite meal", points: 10, person: "wife" },
        { text: "Surprise him with a small gift", points: 15, person: "wife" },
        { text: "Give him a long hug", points: 5, person: "wife" },
        { text: "Support his hobby for a day", points: 10, person: "wife" },
        { text: "Plan a gaming night for him", points: 15, person: "wife" }
    ];

    function loadTasks() {
        let husbandSection = document.querySelector(".husband-tasks");
        let wifeSection = document.querySelector(".wife-tasks");

        tasks.forEach(task => {
            let taskElement = document.createElement("div");
            taskElement.classList.add("task");
            taskElement.innerHTML = `${task.text} <span>+${task.points} pts</span>`;
            taskElement.onclick = function() { addPoints(task.person, task.points); };

            if (task.person === "husband") {
                husbandSection.appendChild(taskElement);
            } else {
                wifeSection.appendChild(taskElement);
            }
        });
    }

    function addPoints(person, points) {
        if (person === "husband") {
            husbandPoints += points;
        } else {
            wifePoints += points;
        }
        localStorage.setItem("husbandPoints", husbandPoints);
        localStorage.setItem("wifePoints", wifePoints);
        updateUI();
    }

    function updateUI() {
        let totalPoints = husbandPoints + wifePoints;
        document.getElementById("totalPoints").innerText = totalPoints;
        document.getElementById("husbandPoints").innerText = husbandPoints;
        document.getElementById("wifePoints").innerText = wifePoints;
    }

    function loadRewards() {
        let rewardsSection = document.querySelector(".rewards-section");

        let rewards = [
            { text: "Movie Night (Cuddles & Snacks)", cost: 50 },
            { text: "Breakfast in Bed", cost: 40 },
            { text: "Romantic Dinner Date", cost: 100 }
        ];

        rewards.forEach(reward => {
            let rewardElement = document.createElement("div");
            rewardElement.classList.add("reward");
            rewardElement.innerHTML = `${reward.text} <span>-${reward.cost} pts</span>`;
            rewardElement.onclick = function() { redeemPoints(reward.cost); };
            rewardsSection.appendChild(rewardElement);
        });
    }

    function redeemPoints(cost) {
        let totalPoints = husbandPoints + wifePoints;
        if (totalPoints >= cost) {
            husbandPoints = Math.max(0, husbandPoints - cost);
            wifePoints = Math.max(0, wifePoints - (cost - husbandPoints));
            localStorage.setItem("husbandPoints", husbandPoints);
            localStorage.setItem("wifePoints", wifePoints);
            updateUI();
        } else {
            alert("Not enough points!");
        }
    }

    function resetPoints() {
        localStorage.clear();
        husbandPoints = 0;
        wifePoints = 0;
        updateUI();
    }

    document.addEventListener("DOMContentLoaded", () => {
        loadTasks();
        loadRewards();
    });
</script>
</body>
</html>
